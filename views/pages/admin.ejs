<% include ../partials/header %>
<div class="row admin-wrapper">
	<nav class="sidebar col m2 z-depth-1 valign-wrapper white">
		<ul class="valign">
			<li class="<%= state == 'review_posts' ? 'active' : '' %>">
				<a href="/admin/review_posts" class="black-text flow-text">Pending Posts</a>
			</li>
			<li class="<%= state == 'manage_points' ? 'active' : '' %>">
				<a href="/admin/manage_points" class="black-text flow-text">Activity Points</a>
			</li>
			<li class="spacer"></li>
		</ul>
	</nav>
	<div class="content-wrapper col m10 offset-m2">
		<% if(state == 'review_posts') { %> <%# REVIEW POSTS VIEW %>
			<h2 class="row">Blog Posts Pending Review</h2>
			<div class="row">
				<% if(pendingBlogPosts.length > 0) { %>
					<% pendingBlogPosts.forEach(function(blogPost, index){ %>
					  <a href="/blog/pending/<%= blogPost._id %>" class="blog-post-link">
					  	<div class="card col m5 <%= index%2==1 ? 'offset-m2' : '' %> s12 hoverable waves-effect valign-wrapper">
						  	<div class="card-content valign">
							    <h3 class="card-title post-title black-text"><%= blogPost.title %></h3>
							    <p class="black-text">By <%= blogPost.author.fname %> <%= blogPost.author.lname %></p>
							   </div>
						  </div>
					  </a>
					<% }); %>
				<% } else { %>
					<p class="flow-text">Nothing to show.</p>
				<% } %>
			</div>
		<% } else { %> <%# MANAGE POINTS VIEW %>
			<div class="row">
				<div class="col m6">
					<h2>Events</h2>
					<% events.forEach(function(event) { %>
						<div class="card-panel event-link">
							<span class="flow-text event-name"><%= event.name %></span>
							<span class="event-type">(<%= event.getType() %>)</span>
						</div>
					<% }); %>
					<a href="#new-event-form" class="btn btn-floating btn-large waves-effect modal-trigger">
						<i class="material-icons">add</i>
					</a>
				</div>
			</div>
			<form id="new-event-form" class="modal">
		    <div class="modal-content">
		      <h4>New Event</h4>
		      <div class="row">
		      	<div class="input-field col m12">
		      		<label for="event-name">Event Name</label>
		      		<input type="text" placeholder="First Meeting" id="event-name" name="event-name">
		      	</div>
		      	<div class="input-field col m12">
		      		<select id="event-type">
		      			<option value="meeting">Meeting</option>
		      			<option value="speaker">Speaker</option>
		      			<option value="conference">Conference</option>
		      		</select>
		      		<label for="event-type">Event Type</label>
		      	</div>
		      </div>
		    </div>
		    <div class="modal-footer">
		      <button type="submit" class="modal-action modal-close waves-effect waves-light btn-flat">SUBMIT <i class="material-icons right">send</i></button>
		    </div>
		  </form>
		<% } %>
	</div>
</div>
<% include ../partials/footer %>